<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ecoutemonspraystp</title>
  <link rel="icon" href="icoooo.png" />

  <style>
    body {
      margin: 0;
      background-color: #fff;
      overflow: hidden;
      display: flex;
      flex-direction: row;
      align-items: stretch;
      font-family: sans-serif;
    }


    .sidebar {
      width: 18%;
      background-color: #fff;
      color: #000;
      font-size: 0.8em;
      padding: 2rem 1rem;
      display: flex;
      flex-direction: column;
      justify-content: center;
      line-height: 1.8;
      z-index: 10;
    }

    .sidebar a {
      color: #000;
      text-decoration: none;
      cursor: pointer;
      transition: opacity 0.3s ease;
    }

    .sidebar a:hover {
      opacity: 0.6;
    }

    .collage {
      position: relative;
      width: 82%;
      height: 100vh;
      overflow: hidden;
    }

    .item {
      position: absolute;
      transition: transform 0.3s ease, opacity 0.3s ease;
      cursor: pointer;
      z-index: 1;
    }

    .item img, .item video {
      width: 100%;
      height: auto;
      object-fit: contain;
      display: block;
      border-radius: 4px;
    }

    .item video {
      display: none;
    }

    .overlay-text {
      position: absolute;
      bottom: 10%;
      left: 50%;
      transform: translateX(-50%);
      background-color: rgba(255, 255, 255, 1);
      color: #000;
      font-size: 12px;
      padding: 4px 10px;
      border: 1px solid #000;
      display: none;
      white-space: nowrap;
      pointer-events: none;
    }

    .item:hover .overlay-text {
      display: block;
    }

    .logo {
  position: absolute;
  top: 2rem;
  left: 1rem;
  width: 4vw;
  height: auto;
  z-index: 11;
  cursor: pointer; /* rend le logo cliquable */
  transition: transform 0.2s ease; /* effet visuel fluide */
}

.logo:hover {
  transform: scale(1.05); /* petit zoom au hover */
}


    .item:hover {
  z-index: 1000;
}

.active-item {
  z-index: 1000 !important;
}


    /* === Vid√©o agrandie === */
    .expanded-video-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(255, 255, 255, 0.8);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
    }

    .expanded-video-container video {
      max-width: 90vw;
      max-height: 90vh;
      width: auto;
      height: auto;
      object-fit: contain;
      display: block;
      border-radius: 8px;
      box-shadow: 0 0 25px rgba(0,0,0,0.15);
    }
    
  </style>
</head>
<body>
  <img src="icoooo.png" alt="Logo" class="logo" id="logo">

  <p>
    
  </p>

  <div class="sidebar">
    <a data-video="romant.mp4">[01] romantika</a>
    <a data-video="aliceglass.mp4">[02] alice glass</a>
    <a data-video="flowerz.mp4">[03] flowerz</a>
    <a data-video="violentdreams.mp4">[04] violent dreams</a>
    <a data-video="coeurlourd.mp4">[05] coeur lourd</a>
    <a data-video="fleur1.mp4">[06] mon amie la rose</a>
    <a data-video="nemeparleplus.mp4">[07] ne me parle plus</a>
    <a data-video="dopefein.mp4">[08] dopefein</a>
  </div>

  <div class="collage">
    <div class="item">
      <img src="spiderwebb.png" alt="">
      <video src="romant.mp4" muted loop playsinline></video>
      <div class="overlay-text">avec toi je me sens romantika, entre les fils, mon coeur il bat comme √ßa</div>
    </div>

    <div class="item">
      <img src="text.png" alt="">
      <video src="nemeparleplus.mp4" muted loop playsinline></video>
      <div class="overlay-text">et la rose elle crie ‚Äúne me parle plus‚Äù</div>
    </div>

    <div class="item">
      <img src="coeurlourd.png" alt="">
      <video src="coeurlourd.mp4" muted loop playsinline></video>
      <div class="overlay-text">quand tu disparais j‚Äôai le coeur lourd</div>
    </div>

    <div class="item">
      <img src="fleur13.png" alt="">
      <video src="flowerz.mp4" muted loop playsinline></video>
      <div class="overlay-text">j‚Äôexplose surtout quand tu me donnes les flowerz</div>
    </div>

    <div class="item">
      <img src="viciouss.png" alt="">
      <video src="violentdreams.mp4" muted loop playsinline></video>
      <div class="overlay-text">mais les flowerz elles sont l√† quand les violent dreams reviennent, et que toi tu disparais</div>
    </div>

    <div class="item">
      <img src="textures.png" alt="">
      <video src="dopefein.mp4" muted loop playsinline></video>
      <div class="overlay-text">je te parle plus, et depuis je vois le monde comme un dopefein</div>
    </div>

    <div class="item">
      <img src="spray2.png" alt="">
      <video src="aliceglass.mp4" muted loop playsinline></video>
      <div class="overlay-text">il bat comme √ßa, carr√©ment il crie comme alice glass, j‚Äôexplose</div>
    </div>

    <div class="item">
      <img src="fleur1.png" alt="">
      <video src="fleur1.mp4" muted loop playsinline></video>
      <div class="overlay-text">et je fane comme mon amie la rose</div>
    </div>
  </div>
  </div>

  <script>
    // === Position al√©atoire des items ===
    function randomizePositions() {
      const items = document.querySelectorAll('.item');
      const collage = document.querySelector('.collage');
      const collageWidth = collage.clientWidth;
      const collageHeight = collage.clientHeight;
      const positions = [];

      items.forEach(item => {
        const sizePercent = Math.random() * 10 + 12;
        item.style.width = sizePercent + '%';
        const img = item.querySelector('img');

        img.onload = () => {
          const itemWidth = item.offsetWidth;
          const itemHeight = item.offsetHeight;
          let left, top, overlap = true, tries = 0, maxTries = 100;

          while (overlap && tries < maxTries) {
            left = Math.random() * (collageWidth - itemWidth);
            top = Math.random() * (collageHeight - itemHeight);
            overlap = positions.some(pos => {
              const noOverlapX = left + itemWidth < pos.left || pos.left + pos.width < left;
              const noOverlapY = top + itemHeight < pos.top || pos.top + pos.height < top;
              return !(noOverlapX || noOverlapY);
            });
            tries++;
          }

          positions.push({ left, top, width: itemWidth, height: itemHeight });
          item.style.left = `${left}px`;
          item.style.top = `${top}px`;
        };

        if (img.complete) img.onload();
      });
    }
    window.addEventListener('load', randomizePositions);

    // === Gestion du son ===
    let soundEnabled = false;
    document.addEventListener('click', () => soundEnabled = true, { once: true });

    // === Hover pour pr√©visualiser ===
    document.querySelectorAll('.item').forEach(item => {
      const video = item.querySelector('video');
      const img = item.querySelector('img');

      item.addEventListener('mouseenter', () => {
  img.style.display = 'none';
  video.style.display = 'block';
  item.querySelector('.overlay-text').style.display = 'block'; // üëà afficher le texte
  video.muted = !soundEnabled;
  video.play().catch(() => {});
});

item.addEventListener('mouseleave', () => {
  video.pause();
  video.style.display = 'none';
  img.style.display = 'block';
  item.querySelector('.overlay-text').style.display = 'none'; // üëà cacher le texte
});

    });

    // === Agrandir sur clic ===
    document.querySelectorAll('.item').forEach(item => {
      item.addEventListener('click', e => {
        e.stopPropagation();
        const video = item.querySelector('video');
        const clone = video.cloneNode(true);
        clone.muted = !soundEnabled;
        clone.play();

        const container = document.createElement('div');
        container.className = 'expanded-video-container';
        container.appendChild(clone);

        document.body.appendChild(container);

        // Fermer sur clic
        container.addEventListener('click', () => {
          clone.pause();
          container.remove();
        });
      });
    });
  </script>
<script>
  // Lien -> lecture de la vid√©o associ√©e + overlay + z-index
  document.querySelectorAll('.sidebar a').forEach(link => {
    link.addEventListener('click', e => {
      e.preventDefault();

      const targetVideo = link.getAttribute('data-video');

      document.querySelectorAll('.item').forEach(item => {
        const video = item.querySelector('video');
        const img = item.querySelector('img');
        const overlay = item.querySelector('.overlay-text');

        // Reset tous les items
        item.classList.remove('active-item');
        video.pause();
        video.style.display = 'none';
        img.style.display = 'block';
        overlay.style.display = 'none';

        // Si c'est la vid√©o cibl√©e, on l'affiche + z-index
        if (video.getAttribute('src') === targetVideo) {
          img.style.display = 'none';
          video.style.display = 'block';
          video.muted = !soundEnabled;
          video.play().catch(() => {});
          overlay.style.display = 'block';
          item.classList.add('active-item');
        }
      });
    });
  });
</script>

<script>
  document.getElementById('logo').addEventListener('click', (e) => {
    e.preventDefault();

    // R√©initialise les vid√©os et images
    document.querySelectorAll('.item').forEach(item => {
      const video = item.querySelector('video');
      const img = item.querySelector('img');
      const overlay = item.querySelector('.overlay-text');

      video.pause();
      video.currentTime = 0;
      video.style.display = 'none';
      img.style.display = 'block';
      overlay.style.display = 'none';
      item.classList.remove('active-item');
    });

    // Relance la randomisation des positions
    randomizePositions();
  });
</script>



</body>
</html>
