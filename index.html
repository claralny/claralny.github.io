<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <link rel="shortcut icon" href="import/logo2.ico">
  <title>portfolio2clara</title>
</head>

<body>

<canvas id="mouseTrailCanvas"></canvas>

<div class="container">

  <div class="navbar">
    <a href="index.html">[contact]</a>
    <a href="index.html">[work]</a>
  </div>

  <div class="scrolling-text">
    <ul id="scrollingTextList">
      <li data-project="unrepeated">unâŸ³repeated <span class="year">2026</span></li>
      <li data-project="angelcandles">angelà¼ºâ˜†à¼»candles <span class="year">2026</span></li>
      <li data-project="worldisastercompilation">âœ¶â‹†worldisastercompilation.Ëš <span class="year">2025</span></li>
      <li data-project="berlin" class="b">berlin <span class="year">2025</span></li>
      <li data-project="howitsounded">how it soundâ„®d whâ„®n it driâ„®d ã‚› ËËŠË— <span class="year">2025</span></li>
      <li data-project="datasynesthesia">â–Œâ”‚â–ˆâ•‘â–Œâ•‘â–Œâ•‘ data synesthesia <span class="year">2025</span></li>
      <li data-project="griefseed">griefÛ¶à§seed <span class="year">2025</span></li>
      <li data-project="chambrenoire">Ä±lÄ±Ä±lÄ±Ä±lÄ± darkroom Ä±lÄ±Ä±lÄ±Ä±lÄ± <span class="year">2025</span></li>
      <li data-project="vs">á¯“sonic visionsâ™ª <span class="year">2025</span></li>
      <li data-project="ultrav">ultraï¸»èŠ«â•â”€â”€â”€violente romance <span class="year">2025</span></li>
      <li data-project="mar">à¼„.Â° au bord du gouffre <span class="year">2025</span></li>
      <li data-project="digitalemotions">
        dÌµÌ‰ÍÌ¨ÌªiÌ¸ÍƒÌƒÌ¹Ì™ÌŸgÌ¸Ì…Í‚Ì’Ì¥Ì°iÌ·Í’Í˜ÍÌ˜Ì¬tÌµÍ—Í„Ì­Í•aÌ¸Í’ÍÍ—Ì¬lÌµÌŠÍ†Ì¥Í• emotions
        <span class="year">2024</span>
      </li>
      <li data-project="mad">ğ“€¤ğ“€¥ madfest ğ“€¤ğ“€¥ <span class="year">2024</span></li>
    </ul>

    <!-- CONTACT -->
    <div id="contactPanel" class="contact-panel">
      <p>
        french graphic designer based in Paris, currently studying in a masterâ€™s degree in digital design (4th year), after completing a DNMADE (National Diploma of Art and Design) in graphic design and digital studies.<br><br>
        iâ€™m into electronic music [âœ´ï¸], swords [ğŸ—¡], adventures [.à³ƒà¿” âœˆï¸ *], badly drawn illustrations [á°], and mixed aesthetics somewhere between â€â‹†. ğ™š Ëš coquette â€â‹†. ğ™š Ëš and âŒâ•¦á¡á Šâ•¾â”ghetto.<br><br><br><br><br>
        <strong><a href="mailto:claraa.launayy@gmail.com">clara[at]gmail[dot]com</a><br></strong>
        <strong>+33 6 27 87 67 55</strong>
      </p>
    </div>
  </div>

  <!-- TEXTE PROJET (DESKTOP) -->
  <div class="project-desc" id="projectDesc"></div>

  <!-- MEDIA DROITE (DESKTOP) -->
  <div class="project-media" id="projectMedia"></div>

  <!-- âœ… MOBILE PROJECT VIEW -->
  <div id="mobileProjectView" class="mobile-project-view" style="display:none;"></div>

  <!-- SCROLLER IMAGES (DESKTOP) -->
  <div class="image-scroller" id="imageScroller">
    <div class="image-track">

      <div class="image-item" data-project="unrepeated">
        <img src="import/un3.png" alt="">
        <div class="image-caption">
          <span class="title">unâŸ³repeated</span>
          <span class="year">2026</span>
        </div>
      </div>

      <div class="image-item" data-project="angelcandles">
        <img src="import/nb.png" alt="">
        <div class="image-caption">
          <span class="title">angelà¼ºâ˜†à¼»candles</span>
          <span class="year">2026</span>
        </div>
      </div>

      <div class="image-item" data-project="worldisastercompilation">
        <img src="import/w.png" alt="">
        <div class="image-caption">
          <span class="title">âœ¶â‹†worldisastercompilation.Ëš</span>
          <span class="year">2025</span>
        </div>
      </div>

      <div class="image-item" data-project="berlin">
        <img src="import/berlin.png" alt="">
        <div class="image-caption">
          <span class="title">berlin</span>
          <span class="year">2025</span>
        </div>
      </div>

      <div class="image-item" data-project="howitsounded">
        <img src="import/hwis.png" alt="">
        <div class="image-caption">
          <span class="title">how it soundâ„®d whâ„®n it driâ„®d ã‚› ËËŠË—</span>
          <span class="year">2025</span>
        </div>
      </div>

      <div class="image-item" data-project="datasynesthesia">
        <img src="import/data2.jpeg" alt="">
        <div class="image-caption">
          <span class="title">â–Œâ”‚â–ˆâ•‘â–Œâ•‘â–Œâ•‘ data synesthesia</span>
          <span class="year">2025</span>
        </div>
      </div>

      <div class="image-item" data-project="griefseed">
        <img src="import/gs1.png" alt="">
        <div class="image-caption">
          <span class="title">griefÛ¶à§seed</span>
          <span class="year">2025</span>
        </div>
      </div>

      <div class="image-item" data-project="chambrenoire">
        <img src="import/chamb.png" alt="">
        <div class="image-caption">
          <span class="title">Ä±lÄ±Ä±lÄ±Ä±lÄ± darkroom Ä±lÄ±Ä±lÄ±Ä±lÄ±</span>
          <span class="year">2025</span>
        </div>
      </div>

      <div class="image-item" data-project="vs">
        <img src="import/vs1.png" alt="">
        <div class="image-caption">
          <span class="title">á¯“sonic visionsâ™ª</span>
          <span class="year">2025</span>
        </div>
      </div>

      <div class="image-item" data-project="ultrav">
        <img src="import/ultrav.png" alt="">
        <div class="image-caption">
          <span class="title">ultraï¸»èŠ«â•â”€â”€â”€violente romance</span>
          <span class="year">2025</span>
        </div>
      </div>

      <div class="image-item" data-project="mar">
        <img src="import/marww.png" alt="">
        <div class="image-caption">
          <span class="title">à¼„.Â° au bord du gouffre</span>
          <span class="year">2025</span>
        </div>
      </div>

      <div class="image-item" data-project="digitalemotions">
        <img src="import/de4.png" alt="">
        <div class="image-caption">
          <span class="title">dÌµÌ‰ÍÌ¨ÌªiÌ¸ÍƒÌƒÌ¹Ì™ÌŸgÌ¸Ì…Í‚Ì’Ì¥Ì°iÌ·Í’Í˜ÍÌ˜Ì¬tÌµÍ—Í„Ì­Í•aÌ¸Í’ÍÍ—Ì¬lÌµÌŠÍ†Ì¥Í• emotions</span>
          <span class="year">2024</span>
        </div>
      </div>

      <div class="image-item" data-project="mad">
        <img src="import/mad0.png" alt="">
        <div class="image-caption">
          <span class="title">ğ“€¤ğ“€¥ madfest ğ“€¤ğ“€¥</span>
          <span class="year">2024</span>
        </div>
      </div>

    </div>
  </div>

</div>

<script src="projects.js"></script>

<script>
/* CONTACT (desktop navbar) */
const contactLink = document.querySelector('.navbar a[href="index.html"]');
const contactPanel = document.getElementById('contactPanel');

contactLink.addEventListener('click', e => {
  e.preventDefault();
  contactPanel.style.display = (contactPanel.style.display === 'block') ? 'none' : 'block';
});
</script>

<script>
/* horizontal scroll (desktop scroller) */
const imageScroller = document.getElementById("imageScroller");
imageScroller.addEventListener("wheel", (e) => {
  e.preventDefault();
  const scrollSpeed = 1;
  imageScroller.scrollLeft += e.deltaY * scrollSpeed;
}, { passive: false });
</script>

<script>
if (history.scrollRestoration) {
  history.scrollRestoration = "manual";
}
</script>

<script>
/* mouse trail */
const canvas = document.getElementById('mouseTrailCanvas');
const ctx = canvas.getContext('2d');

let width = window.innerWidth;
let height = window.innerHeight;
canvas.width = width;
canvas.height = height;

window.addEventListener('resize', () => {
  width = window.innerWidth;
  height = window.innerHeight;
  canvas.width = width;
  canvas.height = height;
});

let lastX = null;
let lastY = null;

function mouseMoveHandler(e) {
  const x = e.clientX;
  const y = e.clientY;

  if (lastX !== null && lastY !== null) {
    ctx.strokeStyle = 'rgba(0, 0, 0, 1)';
    ctx.lineWidth = 1.2;
    ctx.lineCap = 'round';

    ctx.beginPath();
    ctx.moveTo(lastX, lastY);
    ctx.lineTo(x, y);
    ctx.stroke();
  }

  lastX = x;
  lastY = y;
}

document.addEventListener('mousemove', mouseMoveHandler);

function disableMouseTrail() {
  document.removeEventListener('mousemove', mouseMoveHandler);
  ctx.clearRect(0, 0, canvas.width, canvas.height);
}
</script>

<script>
/* routing + desktop overlay + mobile "project page" */
const DESKTOP_WIDTH = 1024;
function isDesktop() {
  return window.innerWidth >= DESKTOP_WIDTH;
}

const desc = document.getElementById("projectDesc");
const media = document.getElementById("projectMedia");
const track = document.querySelector(".image-track");
const mobileView = document.getElementById("mobileProjectView");

// save initial desktop track
const initialTrackHTML = track.innerHTML;

// --- MOBILE VIEW HELPERS ---
function bindMobileContactToggle() {
  const contactToggle = document.getElementById("contactToggle");
  const contactPanelMobile = document.getElementById("contactPanelMobile");
  if (!contactToggle || !contactPanelMobile) return;

  contactToggle.addEventListener("click", e => {
    e.preventDefault();
    contactPanelMobile.style.display =
      contactPanelMobile.style.display === "block" ? "none" : "block";
  });
}

function renderMobileProject(key) {
  const p = projects[key];
  if (!p) return;

  document.body.classList.add("is-mobile-project");

  mobileView.innerHTML = `
    <div class="title">${p.title}</div>

    <div class="navbar">
      <a href="#" id="contactToggle">[contact]</a>
      <a href="#" id="backToWork">[work]</a>
    </div>

    <div id="contactPanelMobile" class="contact-panel" style="display:none;">
      ${document.getElementById("contactPanel")?.innerHTML || ""}
    </div>

    <div class="desc">
      <p>${p.text}</p>
    </div>

    <div class="image-scroller2" id="imageScrollerMobile">
      <div class="image-track2">
        ${p.images.map(src => `
          <div class="image-item2"><img src="${src}" alt=""></div>
        `).join("")}
      </div>
    </div>
  `;

  bindMobileContactToggle();

  const back = document.getElementById("backToWork");
  if (back) {
    back.addEventListener("click", (e) => {
      e.preventDefault();
      location.hash = "";
    });
  }
}

function resetHome() {
  document.body.classList.remove("is-mobile-project");
  mobileView.innerHTML = "";

  desc.innerHTML = "";
  media.innerHTML = "";
  track.innerHTML = initialTrackHTML;

  bindImageClicks();
}

// --- CLICK BINDINGS ---
document.querySelectorAll("li[data-project]").forEach(el => {
  el.addEventListener("click", e => {
    const key = el.dataset.project;

    // âœ… Mobile: use hash only
    if (!isDesktop()) {
      location.hash = key;
      return;
    }

    // âœ… Desktop overlay
    e.preventDefault();
    const clickedImg = document.querySelector(`.image-item[data-project="${key}"] img`)?.src;
    openProject(key, clickedImg, true);
  });
});

function bindImageClicks() {
  document.querySelectorAll(".image-item[data-project]").forEach(item => {
    item.addEventListener("click", e => {
      const key = item.dataset.project;

      // âœ… Mobile: use hash only
      if (!isDesktop()) {
        location.hash = key;
        return;
      }

      // âœ… Desktop overlay
      e.preventDefault();
      const clickedImg = item.querySelector("img")?.src;
      openProject(key, clickedImg, true);
    });
  });
}
bindImageClicks();

// --- OPEN PROJECT (desktop overlay + mobile view) ---
function openProject(key, clickedImg, updateURL = false) {
  const p = projects[key];
  if (!p) return;

  // âœ… Mobile
  if (!isDesktop()) {
    renderMobileProject(key);
    return;
  }

  // âœ… Desktop
  disableMouseTrail();

  if (updateURL && location.hash !== `#${key}`) {
    history.pushState({ project: key }, "", `#${key}`);
  }

  desc.innerHTML = `<p>${p.text}</p>`;

  if (p.video) {
    media.innerHTML = `
      <div class="media-stage">
        <video class="media-video" controls src="${p.video}"></video>
        <img class="media-preview" alt="">
      </div>
    `;
  } else {
    media.innerHTML = `
      <div class="media-stage no-video">
        <img class="media-preview" alt="">
      </div>
    `;
  }

  const previewEl = media.querySelector(".media-preview");
  const videoEl = media.querySelector(".media-video");

  track.innerHTML = "";

  p.images.forEach(src => {
    const div = document.createElement("div");
    div.className = "image-item";

    const img = document.createElement("img");
    img.src = src;

    img.addEventListener("mouseenter", () => {
      previewEl.src = src;
      previewEl.style.display = "block";
      if (videoEl) videoEl.style.display = "none";
    });

    img.addEventListener("mouseleave", () => {
      previewEl.style.display = "none";
      previewEl.removeAttribute("src");
      if (videoEl) videoEl.style.display = "block";
    });

    div.appendChild(img);
    track.appendChild(div);
  });
}

// --- ROUTER (hash) ---
function routeFromHash() {
  const key = location.hash.replace("#", "");
  if (key && projects[key]) openProject(key, null, false);
  else resetHome();
}

window.addEventListener("DOMContentLoaded", routeFromHash);
window.addEventListener("hashchange", routeFromHash);
window.addEventListener("popstate", routeFromHash);
</script>

</body>
</html>
